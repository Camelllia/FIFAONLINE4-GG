<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<html lang="en">
<style>
footer {
    position: absolute;
    left: 0;
    bottom: 0;
    width: 100%;
	padding: 15px 0;
	text-align: center;
	color: white;
	background: blue;
}

table {
    margin-left: auto;
    margin-right: auto;
}
</style>
<script ></script>
<script type="text/javascript">
    function searchInfo() {
        const nickname = $('#nickname').val();
        
        $.ajax({
            type: 'GET',
            url: 'api/v1/user/'+nickname,
            dataType: 'json',
            contentType: 'application/json; charset=utf-8',
        }).done(function (res) {
            window.location.reload();
        }).fail(function (error){
            alert('없는 유저입니다. 다시 입력해주세요.');
        });
    }
</script>
<head>
    <meta charset="UTF-8">
    <title>FIFA4-User</title>
    <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
    <script src="/button.js"></script>
</head>
<body>
    <h1 style="text-align: center">FIFA Online 4 - GG</h1>

    <div class="container" style="margin-top: 150px;">
        <h3 style="text-align: center">구단주 검색</h3>
        <form style="margin: auto; width: 230px">
            <div class="input-group">
                <input type="text" class="form-control" id="nickname" placeholder="구단주를 입력하세요">
                <button class="btn btn-primary" type="button" id="search-info" onclick="searchInfo()">검색</button>
            </div>
        </form>
    </div>
    <p>
        <table class="table table-horizontal table-bordered">
            <thead class="thead-strong">
            <tr>
                <th>유저 닉네임</th>
                <th>레벨</th>
            </tr>
            </thead>
            <tbody id="tbody">  
                <tr>
                    <td th:text="${nickName}"></td>
                    <td th:text="${level}"></td>
                </tr>
            </tbody>
        </table>
    </p>
    <footer>
        <h4>Data based on NEXON DEVELOPERS</h4>
    </footer>
</body>
</html>